(()=>{"use strict";var t={d:(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{add:()=>f,angle:()=>j,bezier:()=>_,ceil:()=>m,clone:()=>i,copy:()=>u,create:()=>o,cross:()=>T,dist:()=>k,distance:()=>S,div:()=>X,divide:()=>M,dot:()=>L,equals:()=>N,exactEquals:()=>G,floor:()=>v,forEach:()=>$,fromValues:()=>s,hermite:()=>R,inverse:()=>P,len:()=>Z,length:()=>c,lerp:()=>C,max:()=>b,min:()=>g,mul:()=>K,multiply:()=>d,negate:()=>E,normalize:()=>F,random:()=>B,rotateX:()=>V,rotateY:()=>D,rotateZ:()=>U,round:()=>p,scale:()=>A,scaleAndAdd:()=>y,set:()=>h,sqrDist:()=>Q,sqrLen:()=>J,squaredDistance:()=>w,squaredLength:()=>x,str:()=>z,sub:()=>Y,subtract:()=>l,transformMat3:()=>q,transformMat4:()=>O,transformQuat:()=>I,zero:()=>H});var e=1e-6,n="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function o(){var t=new n(3);return n!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var r=new n(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function c(t){var r=t[0],e=t[1],n=t[2];return Math.hypot(r,e,n)}function s(t,r,e){var a=new n(3);return a[0]=t,a[1]=r,a[2]=e,a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function h(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t}function f(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function l(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function d(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function M(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function m(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function v(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function g(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t}function b(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t}function p(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function A(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function y(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t}function S(t,r){var e=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2];return Math.hypot(e,n,a)}function w(t,r){var e=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2];return e*e+n*n+a*a}function x(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n}function E(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function P(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function F(t,r){var e=r[0],n=r[1],a=r[2],o=e*e+n*n+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t}function L(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function T(t,r,e){var n=r[0],a=r[1],o=r[2],i=e[0],c=e[1],s=e[2];return t[0]=a*s-o*c,t[1]=o*i-n*s,t[2]=n*c-a*i,t}function C(t,r,e,n){var a=r[0],o=r[1],i=r[2];return t[0]=a+n*(e[0]-a),t[1]=o+n*(e[1]-o),t[2]=i+n*(e[2]-i),t}function R(t,r,e,n,a,o){var i=o*o,c=i*(2*o-3)+1,s=i*(o-2)+o,u=i*(o-1),h=i*(3-2*o);return t[0]=r[0]*c+e[0]*s+n[0]*u+a[0]*h,t[1]=r[1]*c+e[1]*s+n[1]*u+a[1]*h,t[2]=r[2]*c+e[2]*s+n[2]*u+a[2]*h,t}function _(t,r,e,n,a,o){var i=1-o,c=i*i,s=o*o,u=c*i,h=3*o*c,f=3*s*i,l=s*o;return t[0]=r[0]*u+e[0]*h+n[0]*f+a[0]*l,t[1]=r[1]*u+e[1]*h+n[1]*f+a[1]*l,t[2]=r[2]*u+e[2]*h+n[2]*f+a[2]*l,t}function B(t,r){r=r||1;var e=2*a()*Math.PI,n=2*a()-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*r,t}function O(t,r,e){var n=r[0],a=r[1],o=r[2],i=e[3]*n+e[7]*a+e[11]*o+e[15];return i=i||1,t[0]=(e[0]*n+e[4]*a+e[8]*o+e[12])/i,t[1]=(e[1]*n+e[5]*a+e[9]*o+e[13])/i,t[2]=(e[2]*n+e[6]*a+e[10]*o+e[14])/i,t}function q(t,r,e){var n=r[0],a=r[1],o=r[2];return t[0]=n*e[0]+a*e[3]+o*e[6],t[1]=n*e[1]+a*e[4]+o*e[7],t[2]=n*e[2]+a*e[5]+o*e[8],t}function I(t,r,e){var n=e[0],a=e[1],o=e[2],i=e[3],c=r[0],s=r[1],u=r[2],h=a*u-o*s,f=o*c-n*u,l=n*s-a*c,d=a*l-o*f,M=o*h-n*l,m=n*f-a*h,v=2*i;return h*=v,f*=v,l*=v,d*=2,M*=2,m*=2,t[0]=c+h+d,t[1]=s+f+M,t[2]=u+l+m,t}function V(t,r,e,n){var a=[],o=[];return a[0]=r[0]-e[0],a[1]=r[1]-e[1],a[2]=r[2]-e[2],o[0]=a[0],o[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),o[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function D(t,r,e,n){var a=[],o=[];return a[0]=r[0]-e[0],a[1]=r[1]-e[1],a[2]=r[2]-e[2],o[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),o[1]=a[1],o[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function U(t,r,e,n){var a=[],o=[];return a[0]=r[0]-e[0],a[1]=r[1]-e[1],a[2]=r[2]-e[2],o[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),o[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),o[2]=a[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function j(t,r){var e=t[0],n=t[1],a=t[2],o=r[0],i=r[1],c=r[2],s=Math.sqrt(e*e+n*n+a*a)*Math.sqrt(o*o+i*i+c*c),u=s&&L(t,r)/s;return Math.acos(Math.min(Math.max(u,-1),1))}function H(t){return t[0]=0,t[1]=0,t[2]=0,t}function z(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function G(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function N(t,r){var n=t[0],a=t[1],o=t[2],i=r[0],c=r[1],s=r[2];return Math.abs(n-i)<=e*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-c)<=e*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-s)<=e*Math.max(1,Math.abs(o),Math.abs(s))}Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var W,Y=l,K=d,X=M,k=S,Q=w,Z=c,J=x,$=(W=o(),function(t,r,e,n,a,o){var i,c;for(r||(r=3),e||(e=0),c=n?Math.min(n*r+e,t.length):t.length,i=e;i<c;i+=r)W[0]=t[i],W[1]=t[i+1],W[2]=t[i+2],a(W,W,o),t[i]=W[0],t[i+1]=W[1],t[i+2]=W[2];return t});class tt{static createShader(t,r,e){const n=t.createShader(r);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(n);throw new Error("Shader compilation error: "+r)}return n}static createProgram(t,r,e){const n=t.createProgram();if(t.attachShader(n,r),t.attachShader(n,e),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS)){const r=t.getProgramInfoLog(n);throw new Error("Could not compile WebGL program:"+r)}return n}static createBuffer(t,r,e){if(0==e.length)return null;if(!(e&&e.buffer instanceof ArrayBuffer&&void 0!==e.byteLength))return console.warn("Data is not an instance of ArrayBuffer"),null;const n=t.createBuffer();return console.log("foi"),t.bindBuffer(r,n),t.bufferData(r,e,t.STATIC_DRAW),n}static createVAO(t,...r){const e=t.createVertexArray();let n,a;t.bindVertexArray(e);for(let e of r)null!=e.loc&&null!=e.loc&&(t.enableVertexAttribArray(e.loc),n=e.dimension,a=t.FLOAT,t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.vertexAttribPointer(e.loc,n,a,!1,0,0));return e}}class rt{#t=s(0,0,0);#r=s(0,0,0);#e=s(1,1,1);#n=function(){var t=new n(16);return n!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}();#a=[];#o=null;#i=null;#c=null;#s;#u;#h;get position(){return this.#t}set position(t){if(!(t instanceof r))throw new Error("Position need to be a vec3.");this.#t=s(...t,1)}get rotation(){return this.#r}set rotation(t){if(!(pos instanceof r))throw new Error("Rotation need to be a vec3.");this.#r=s(...t,1)}get scale(){return this.#e}set scale(t){if(!(pos instanceof r))throw new Error("Scale need to be a vec3.");this.#e=s(...t,1)}addAttribute(t,r,e,n=4){if(!(e instanceof Array))throw new Error("The info parameter needs to be a Array.");e.forEach((t=>{if("number"!=typeof t)throw new Error("The info array need to be numeric.")}));const a=e.length/n;if(this.#u){if(a!==this.#u)throw new Error("The VBOs need to contain the same number of vertex.")}else this.#u=a;const o=new Float32Array(e);this.#a.push({loc:t.getAttribLocation(this.#c,r),buffer:tt.createBuffer(t,t.ARRAY_BUFFER,o),dimension:n})}constructor(t,r,e,n){this.#s=n,this.createShader(t,r,e)}createShader(t,r,e){this.#o=tt.createShader(t,t.VERTEX_SHADER,r),this.#i=tt.createShader(t,t.FRAGMENT_SHADER,e),this.#c=tt.createProgram(t,this.#o,this.#i),t.useProgram(this.#c)}createVAO(t){this.#h=tt.createVAO(t,...this.#a)}#f(){var t,r,e,n,a,o,i,c,s,u,h,f,l,d,M,m,v,g;(function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1})(this.#n),t=this.#n,r=this.#n,m=(e=this.#t)[0],v=e[1],g=e[2],r===t?(t[12]=r[0]*m+r[4]*v+r[8]*g+r[12],t[13]=r[1]*m+r[5]*v+r[9]*g+r[13],t[14]=r[2]*m+r[6]*v+r[10]*g+r[14],t[15]=r[3]*m+r[7]*v+r[11]*g+r[15]):(n=r[0],a=r[1],o=r[2],i=r[3],c=r[4],s=r[5],u=r[6],h=r[7],f=r[8],l=r[9],d=r[10],M=r[11],t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=c,t[5]=s,t[6]=u,t[7]=h,t[8]=f,t[9]=l,t[10]=d,t[11]=M,t[12]=n*m+c*v+f*g+r[12],t[13]=a*m+s*v+l*g+r[13],t[14]=o*m+u*v+d*g+r[14],t[15]=i*m+h*v+M*g+r[15]),function(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[4],i=r[5],c=r[6],s=r[7],u=r[8],h=r[9],f=r[10],l=r[11];r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*a+u*n,t[5]=i*a+h*n,t[6]=c*a+f*n,t[7]=s*a+l*n,t[8]=u*a-o*n,t[9]=h*a-i*n,t[10]=f*a-c*n,t[11]=l*a-s*n}(this.#n,this.#n,this.#r[0]),function(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[0],i=r[1],c=r[2],s=r[3],u=r[8],h=r[9],f=r[10],l=r[11];r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*a-u*n,t[1]=i*a-h*n,t[2]=c*a-f*n,t[3]=s*a-l*n,t[8]=o*n+u*a,t[9]=i*n+h*a,t[10]=c*n+f*a,t[11]=s*n+l*a}(this.#n,this.#n,this.#r[1]),function(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[0],i=r[1],c=r[2],s=r[3],u=r[4],h=r[5],f=r[6],l=r[7];r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*a+u*n,t[1]=i*a+h*n,t[2]=c*a+f*n,t[3]=s*a+l*n,t[4]=u*a-o*n,t[5]=h*a-i*n,t[6]=f*a-c*n,t[7]=l*a-s*n}(this.#n,this.#n,this.#r[2]),function(t,r,e){var n=e[0],a=e[1],o=e[2];t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=r[7]*a,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]}(this.#n,this.#n,this.#e)}draw(t){t.frontFace(t.CCW),t.enable(t.CULL_FACE),t.cullFace(t.BACK),this.#f(),this.#n,t.useProgram(this.#c),t.drawArrays(this.#s,0,this.#u),t.disable(t.CULL_FACE)}}!function(t){if(!(t instanceof HTMLCanvasElement))return;const r=t.getContext("webgl2"),e=window.devicePixelRatio||1;r.canvas.width=1024*e,r.canvas.height=768*e,r.viewport(0,0,r.canvas.width,r.canvas.height),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);const n=new rt(r,"#version 300 es\n    precision highp float;\n\n    in vec4 position;\n    in vec4 color;\n\n    out vec4 fColor;\n    \n    void main() {\n      gl_Position  = position;\n      fColor = color;\n    }","#version 300 es\n    precision highp float;\n    \n    in vec4 fColor;\n\n    out vec4 color;\n\n    void main() {\n      color = fColor;\n    }",r.TRIANGLES);n.addAttribute(r,"position",[0,.5,0,1,0,0,0,1,.5,0,0,1]),n.addAttribute(r,"color",[1,0,0,1,0,1,0,1,0,0,1,1]),n.createVAO(r),n.draw(r)}(document.querySelector("#game-screen"))})();
//# sourceMappingURL=main.bundle.js.map